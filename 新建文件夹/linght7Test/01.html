<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title> E-buy</title>
		<meta name="viewport" content="initial-scale=1, maximum-scale=1">
		<link rel="shortcut icon" href="/favicon.ico">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="iconFont/demo.css">
		<link rel="stylesheet" type="text/css" href="light7/light7.min.css" />
		<link rel="stylesheet" type="text/css" href="light7/light7-swiper.min.css"/><!-- 扩展包组件对应文件-->
		<link rel="stylesheet" type="text/css" href="css/index.css"/><!-- The independent style of my index.html -->
		<script type="text/javascript" src="iconFont/iconfont.js"></script>
		<script type="text/javascript" src="../jquery-2.1.1.min.js"></script>
		<script>
			$.config = {
				autoInit: true //no recommend
			}
		</script>
		<script type="text/javascript"  src="light7/light7.js"></script>
		<script type="text/javascript" src="light7/light7-swiper.min.js" ></script><!-- 扩展包组件对应文件-->
		<style type="text/css">
			a{
				text-decoration: none !important;
			}
		</style>
	</head>

	<body>
		<div class="page-container">
			<div class="page" id="page1">
				<header class="bar bar-nav">
					<div class="content-block <!--open-panel-->" id="home-sidebar" data-panel='#panel-left-demo'>
						<a href="#" class=" icon icon-app pull-left button button-fill"></a>
			      		<input type="text" class="cityName pull-left button" id='city-picker' value="浙江 杭州 拱墅区" />
						<span class="icon icon-caret" style="font-size: .5rem;line-height: 2.2rem;"></span>
					</div>
					<div class="bar title-query">
						<div class="searchbar">
							<a class="searchbar-cancel">搜索</a>
							<div class="search-input">
								<label class="icon icon-search" for="search"></label>
								<input type="search" id='search' placeholder='输入商品名、商家名、商圈...' />
							</div>
						</div>
					</div>
					<span class="icon icon-code" style="right: .5rem;position: absolute;color:#0894ec ;"></span>
				</header>
				<!-- start content -->
				<div class="content">
					<header class="recommend">
						<h1 class="r-title">今日主推</h1>
						<h6 class="title12">每日上新、精选好物、限时折扣</h6>
						<div class="swiper-count">
							<i class="swiper-show-count">1</i><!-- swiper.min.js 152 -->
							<i class="swiper-count-old">/</i>
							<i class="swiper-count-old">3</i>
						</div>
					</header>
					<!--<iframe id="iframe-infinite" src="infinite.html" name="infinitePage" width="100%" height="500px" style="background-color: #ccc;"></iframe>-->
					
					<!-- 导航 -->
					<div class="list-block entry-nav">
						<h1 class="title12">品质、格调、一站搜罗</h1>
						<nav class="bar bar-tab">
							<a href="javascript:;" class="tab-item" data-page="infinite">
								<span class="icon icon-gift"></span>
								<span class="tab-label">精选好物</span>
							</a>
							<a href="javascript:;" class="tab-item">
								<span class="icon icon-gift"></span>
								<span class="tab-label">家居</span>
							</a>
							<a href="javascript:;" class="tab-item">
								<span class="icon icon-gift"></span>
								<span class="tab-label">下午茶</span>
							</a>
							<a href="javascript:;" class="tab-item">
								<span class="icon icon-gift"></span>
								<span class="tab-label">美妆</span>
							</a>
						</nav>
					</div>
					<div class="page-item" id='infinite'>
						
					</div>
				</div>
				<nav class="bar bar-tab">
					<a href="javascript:;" class="tab-item active">
						<span class="icon icon-home"></span>
						<span class="tab-label">首页</span>
					</a>
					<a href="javascript:;" class="tab-item">
						<span class="icon icon-me"></span>
						<span class="tab-label">我</span>
					</a>
					<a href="javascript:;" class="tab-item">
						<span class="icon icon-star"></span>
						<span class="tab-label">收藏</span>
					</a>
					<a href="javascript:;" class="tab-item">
						<span class="icon icon-settings"></span>
						<span class="tab-label">设置</span>
					</a>
				</nav>
			</div>
			<div class="page" id="commodity-details"></div>
		</div>
		<!-- Left Panel with Reveal effect -->
		<div class="panel panel-left panel-reveal theme-dark" id='panel-left-demo'>
			<div class="content-block">
				<p>这是一个侧栏</p>
				<div class="list-block">
					<div class="list-block contacts-block"></div>
				</div>
				<p>
					<a href="#" class="close-panel">关闭</a>
				</p>
			</div>
		</div>
		
		<!--111111111111-->
	</body>
	<script src="city-picker.js" type="text/javascript" charset="utf-8"></script>
	<script src="index.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		$(function() {
			var arr = document.body.childNodes;
			for(var i = 0;i < arr.length;i++){
				console.log(arr[i])
			}
			//console.log($(window.frames[''].document).html())
			index.init();
			$('.tab-item:first').trigger('click');
			$("#city-picker").cityPicker({
		    	toolbarTemplate: '<header class="bar bar-nav">\
		    		<button class="button button-link pull-right close-picker">OK</button>\
		    		<h1 class="title">选择地址</h1>\
		    	</header>'
		  	});
		});
		/*  ============================  Invoke the events in the plug-in  ===============================  */
		$(document).on("click", "#panel-left-demo .close-panel", function() {
			$('.cityName').text($(this).text());
		});
		
//		var indexPage = {
//			requestData : function(url,cb){
//		    	$.ajax({
//		    		type:"get",
//		    		url:url,
//		    		async:true,
//		    		success:function(resData){
//		    			if(!resData)return;
//		    			try{
//		    				cb(resData);
//		    			}catch(e){
//		    				//TODO handle the exception
//		    			}
//		    		},
//		    		error:function(err){
//		    			console.log(err);
//		    		}
//		    	})
//		    }
//		};
//		
//		
//		var obj = {
//			sidebarBox: '.contacts-block',
//			sidebarData: {
//				"A": ['安庆', '安康', '安阳', '安顺', '鞍山', '澳门'],
//				"B": ['保定', '宝鸡', '包头', '巴中', '北京', '亳州'],
//				"C": ['长春', '长沙', '朝阳', '承德', '重庆', '滁州']
//			},
//			sidebarMount: function() {
//				var self = this;
//				for(var i in self.sidebarData) {
//					var div = '<div class="list-group"><ul><li class="list-group-title">' + i + '</li></ul></div>';
//					var dom = $(div);
//					for(var n = 0; n < self.sidebarData[i].length; n++) {
//						var li = '<li>' +
//							'<div class="item-content close-panel">' +
//							'<div class="item-inner">' +
//							'<div class="item-title">' + self.sidebarData[i][n] + '</div>' +
//							'</div>' +
//							'</div>' +
//							'</li>';
//						dom.children().append(li);
//					};
//					$(self.sidebarBox).append(dom);
//				}
//			}
//		};
//		obj.swiper = function(data){
//			var data = data;
//			if(!$('.page').is(':hidden')){
//				if($('.page').attr('id')){
//					data.warp = "#"+ $('.page').attr('id');
//					data.el   = data.warp+" "+data.el;
//				}
//			}
//			// 每个滑块结构
//			var html = '<div class="swiper-slide">\
//				    	<div class=" demo-card-header-pic swiper-card">\
//							<div valign="bottom" class="card-header color-white no-border no-padding">\
//								<img class="card-cover" src="{{imgs}}" alt="">\
//							</div>\
//							<div class="swiper-card-content">\
//								<div class="card-content-inner">\
//									<p class="color-bold">{{title}}</p>\
//									<p class="color-gray">{{activity}}</p>\
//								</div>\
//							</div>\
//						</div>\
//				    </div>';
//		    indexPage.requestData(data.url,function(resData){
//		    	var newHtml = '<div class="swiper-container" data-space-between="'+data.spaceBetween
//		    					+'" data-pagination="'+data.pagination
//		    					+'" data-autoplay="'+data.autoplay
//		    					+'"><div class="swiper-wrapper">';
//		    	// 替换自定义值
//  			for(var i = 0;i < resData.length; i++){
//	    			var obj = html;
//	    			for(var n in resData[i]){
//	    				var str = "{{"+n+"}}";
//	    				obj = obj.replace(str,resData[i][n]);
//	    			}
//	    			newHtml += obj;
//	    		}
//  			newHtml += '</div><p class="'+data.pagination.split('.')[1]+'" style="opacity:'+ data.opacity+';"></p></div>';
//  			$(data.el).before(newHtml);
//  			// init
//  			$(data.warp+" .swiper-container").swiper({
//  				spaceBetween: data.spaceBetween, 
//  				pagination: data.pagination, 
//  				autoplay: data.autoplay
//  			});
//		    });
//		};
//		// jump page
//		obj.JumpPage = function(ev,el){
//			$(document).on(ev,el,function(){
//				var page = $(this).attr('data-page');
//	    		if(page){
//	    			indexPage.requestData(page+'.html',function(resData){
//	    				$('#'+page).html(resData);
//	    			})
//	    		}
//			});
//		}
		
	</script>
</html>