<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			ul{
				width: 500px;
			}
			li{
				display: block;
				float: left;
				width: 30%;
				padding: 20px 0;
				border: 1px solid #000000;
			}
		</style>
	</head>
	<body>
		<ul>
			<li data-id="id">我是A</li>
			<li data-name="name">我是B</li>
			<li data-age="99">我是C</li>
		</ul>
	</body>
	<script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
	<script type="text/javascript">
		var i = {
			status:0,
			liList:$('li'),
			arr:['id','name','age']
		};
		// 事件
		
		i.liList.click(function(){
			for(var n = 0;n < i.arr.length; n++){
				var k = i['arr'][n];
				if($(this).attr('data-'+k)){
					i[k] = $(this).attr('data-'+k);
					break;
				}
			}
			i.trigger = i.status += 1;
		})
		
		// 监听
		Object.defineProperty(i,"trigger",{
			set:function(size){
				if(size == i.liList.length)aaa(i);
			}
		})
		//    调用
		function aaa(index){
			console.log("我是AJAX请求");
			console.log(index)
		}
		
	</script>
</html>
